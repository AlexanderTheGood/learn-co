#!/usr/bin/env ruby

require 'learn'

KNOWN_COMMANDS = [
  'test',
  'help',
  'version',
  '-v',
  '--version',
  'submit',
  'open'
]

# Default to running tests
if ARGV.empty? || ARGV.none? {|arg| KNOWN_COMMANDS.include?(arg)}
  ARGV.unshift('test')
end

if ['-v', '--version'].include?(ARGV.first)
  puts Learn::VERSION
  exit
end

ARGV = Learn::OptionsSanitizer.new(ARGV).sanitize!

Learn::CLI.start(ARGV)
